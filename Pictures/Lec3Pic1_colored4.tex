\begin{center}
\begin{tikzpicture}[x=1.5em, y=1.5em]
\filldraw[very thick, blue, fill=gray!10]
    (0,0)--(0,6)--(6,6)--(6,0)--(0,0);
\draw[very thick, red,fill=white]
    (-10,0)--(-10,6)--(-4,6)--(-4,0)--(-10,0);
\draw[very thick, orange,fill=white]
        (-10,10)--(-10,16)--(-4,16)--(-4,10)--(-10,10);
\filldraw[thick, red,fill=gray!10, use Hobby shortcut,closed=true] 
    (1,3) .. (3,5) .. (5.5,4) .. (4,2) .. (2.5,1);
\filldraw[thick, green, fill=white, use Hobby shortcut,closed=true] 
        (-9,3) .. (-7,5) .. (-4.5,3) .. (-6,2) .. (-7.5,0.5);
\draw[green]
        (2.5,2.5)--(3.5,2.5)--(3.5,3.5)--(2.5,3.5)--(2.5,2.5);
\draw[thick, orange]
                (-7.5,2.5)--(-6.5,2.5)--(-6.5,3.5)--(-7.5,3.5)--(-7.5,2.5);
\filldraw[orange,fill=gray!10,use Hobby shortcut,closed=true]
                (2.8,2.8)--(3.2,2.7)--(3.3,3.4)--(2.73,3.3)--(2.6,3)--(2.8,2.8);
\draw[white,fill=white]
        (2.9,2.9)--(3.1,2.9)--(3.1,3.1)--(2.9,3.1)--(2.9,2.9);
\draw 
    (6.5,3) node[anchor=west] {$\xrightarrow{\quad g\quad} X$}
    (-3.5,3) node[anchor=west] {$\xrightarrow{\quad f_1 \quad }$};
\end{tikzpicture}
\end{center}